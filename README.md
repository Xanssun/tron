# Tron API

## Переменные

## Подключение к БД
| Название     | Описание                                                                                   | Значение по-умолчанию                                  |
|--------------|--------------------------------------------------------------------------------------------|--------------------------------------------------------|
| `DB_URI`     | Строка подключения к базе данных PostgreSQL. Формат: `postgresql+asyncpg://{user}:{pass}@{host}:{port}/{db}` | `postgresql+asyncpg://{}:{}@{}:{}/{}`
| `DB_HOST`    | Хост базы данных PostgreSQL                                                                | `localhost`
| `DB_PORT`    | Порт базы данных PostgreSQL                                                                | `5432`
| `DB_USER`    | Имя пользователя для подключения к базе данных                                             | `test`
| `DB_NAME`    | Имя базы данных PostgreSQL                                                                 | `test`
| `DB_PASSWORD`| Пароль для подключения к базе данных                                                       | `test`

## Настройки сервера
| Название        | Описание                                                    | Значение по-умолчанию                    |
|-----------------|-------------------------------------------------------------|------------------------------------------|
| `SERVER_HOST`   | Хост, на котором запускается сервер                         | `0.0.0.0`
| `SERVER_PORT`   | Порт, на котором запускается сервер                         | `8000`
| `SERVER_METHODS`| Список методов HTTP, которые поддерживает сервер            | `["OPTIONS", "DELETE", "POST", "GET", "PATCH"]`

## Настройки Redis
| Название        | Описание                                        | Значение по-умолчанию |
|-----------------|-------------------------------------------------|-----------------------|
| `REDIS_HOST`    | Хост Redis                                      | `localhost`
| `REDIS_PORT`    | Порт Redis                                      | `6379`
| `REDIS_PASSWORD`| Пароль для подключения к Redis (если требуется) | `password`

## Настройки приложения
| Название                                | Описание                                                    | Значение по-умолчанию|
|-----------------------------------------|-------------------------------------------------------------|                      |
| `LOG_LEVEL`                             | Уровень логирования                                         | `INFO`               |
| `PROJECT_NAME`                          | Название проекта                                            | `tron api`           |
| `PROJECT_VERSION`                       | Версия проекта                                              | `0.1.0`              |
|-----------------------------------------|-------------------------------------------------------------|----------------------|
| `CIPHER_SECRET_KEY`                     | ключ шифрования, для шифрования приватного ключа            |                      |
| `CIPHER_PUBLIC_KEY`                     | ключ шифрования, для шифрования публичного ключа            |                      |
| `CIPHER_ACCESS_TOKEN_EXPIRE_SECONDS`    | время жизни                                                 | `1800`               |
| `CIPHER_REFRESH_TOKEN_EXPIRE_SECONDS`   | время жизни                                                 | `604800`             |
| `AESCIPHER_SECRET_KEY`                  | ключ шифрования, для шифрования приватного ключа для подписи|                      |


### 1. Приватный cipher
- openssl genrsa -out private.pem 2048 && base64 -w 0 private.pem > private.b64

### 2. Публичный cipher
- openssl rsa -in private.pem -pubout -out public.pem  && base64 -w 0 public.pem > public.b64

### 3. Приватный aescipher
- openssl rand -base64 32

### Окружение
- poetry install - установка зависимостей
